"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{21172:function(n,e,a){a.r(e),a.d(e,{default:function(){return h}});var u=a(22830),t=a(35250),i=a(70079),s=a(5914),o=a(97688),r=a(45494),c=a(71204),d=a(87316),l=a(32983),v=a(75527),f=a(22287),p=a(71741);function h(n){var e=n.urlThreadId,a=n.isUserInCanPayGroup,h=n.serviceStatus,_=n.serviceAnnouncement,g=n.userCountry,m=(0,u._)((0,i.useState)(function(){return void 0!==e?e:(0,v.OX)()}),2),P=m[0],C=m[1];void 0!==e&&P!==e&&C(e),void 0!==e||(0,v.Zz)(P)||C((0,v.OX)());var b=(0,c.nR)(),y=(0,r.Z)(),R=y.accountStatusResponse,k=y.isLoading,w=(0,d.g)(function(n){return n.updateFlagValue});(0,i.useEffect)(function(){void 0!==a&&w("isUserInCanPayGroup",a)},[w,a]),(0,i.useEffect)(function(){(null==h?void 0:h.type)&&void 0!==b&&!b&&o.m.warning(h.message,{hasCloseButton:!0,duration:5})},[b,null==h?void 0:h.message,null==h?void 0:h.type]);var A=(0,c.mA)(function(n){return{accountPlan:n.accountPlan,updateAccountPlanWithResponse:n.updateAccountPlanWithResponse}}),E=A.accountPlan,j=A.updateAccountPlanWithResponse;(0,i.useEffect)(function(){if(!k&&R){var n;(null==E?void 0:E.hasPaidSubscription)!==(null===(n=R.account_plan)||void 0===n?void 0:n.is_paid_subscription_active)&&R&&j(R)}},[k,j,R,E]);var I=(0,v.GR)(P),S=(0,i.useRef)(!1);return(0,i.useEffect)(function(){if(!k&&R){var n,e=(null===(n=R.account_plan)||void 0===n?void 0:n.is_paid_subscription_active)?_.paid:_.public;if((null==e?void 0:e.type)&&(null==e?void 0:e.message)&&!S.current){S.current=!0;var a=e.message,u={hasCloseButton:!0,duration:15};switch(e.type){case"danger":o.m.danger(a,u);break;case"info":o.m.info(a,u);break;case"warning":o.m.warning(a,u)}}}},[_,k,R]),(0,t.jsxs)(l.AX.Provider,{value:I,children:[(0,t.jsx)(f.Z,{userCountry:g}),(0,t.jsx)(s.j,{}),(0,t.jsx)(p.Z,{clientThreadId:P,setClientThreadId:C,isSharedThread:!1})]})}}}]);